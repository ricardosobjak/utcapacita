<div class="login">
  <h1 class="h3 mb-3">Login</h1>

  <form [formGroup]="form" class="needs-validation">
    <div class="mt-3 form-group">
      <label for="" class="form-label">Usuário</label>
      <input
        type="text"
        class="form-control"
        placeholder="Nome de usuário"
        formControlName="username"
        required
        [class.is-invalid]="hasError('username') && submitted"
        [class.is-valid]="!hasError('username')"
      />
      <div class="invalid-feedback" 
          *ngIf="hasError('username') && submitted">
        <div *ngIf="hasError('username', 'required')">
          O campo é obrigatório
        </div>
        <div *ngIf="hasError('username', 'email')">
          O usuário não está em um formado de e-mail válido
        </div>
      </div>
    </div>

    <div class="mt-3 form-group">
      <label for="" class="form-label">Senha</label>
      <input
        type="password"
        class="form-control"
        formControlName="password"
        [class.is-invalid]="hasError('password') && submitted"
        [class.is-valid]="!hasError('password')"
      />

      <div class="is-invalid"
        *ngIf="hasError('password') && submitted"
      >
        <div *ngIf="hasError('password', 'required')">
          O campo é obrigatório
        </div>
        <div *ngIf="hasError('password', 'minlength')">
          A senha deve ter pelo menos 4 caracteres
        </div>
      </div>
    </div>

    <div class="d-flex mt-3">
      <button (click)="login()" class="btn btn-success w-100">Login</button>
    </div>
  </form>
</div>
